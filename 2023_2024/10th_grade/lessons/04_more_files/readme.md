# קבצים - תרגול בכתה

## קריאת קובץ שלם 
בתרגיל זה נקרא את כל הקובץ ב"מכה אחת" ואז נדפיס למסך את מספר המילים, מספר השורות, מספר התווים בקובץ ואת הטקסט עצמו. 

כדי להתחיל, הורידו את הקובץ 
[yesterday.txt](https://github.com/weiss-gal/data_science_project/blob/main/2023_2024/10th_grade/lessons/04_more_files/yesterday.txt)
לתוך הספרייה בה אתם עובדים (חייבת להיות אותה ספרייה בה אנחנו שומרים את קובץ הפייתון)

בשלב ראשון, נקרא את כל הקובץ באופן הבא:

```
file_name = "./yesterday.txt"

print(f"Opening file {file_name} ...")
print() # empty line for readability 

f = open(file_name)
file_contents = f.read()

print(file_contents)
f.close()
```

כשנריץ את הקובץ, אנחנו אמורים לקבל את התוכן שלו על המסך

כפי שאפשר לראות, השורה האחרונה היא
`f.close()`
פעולה זו סוגרת את הקובץ. בואו נבין רגע למה זה חשוב (ולמה לא). 

**פתיחה וסגירה של קבצים** - כאשר אנחנו רוצים לקרוא קובץ, אנחנו (בעזרת הפונקציה open) מודיעים למערכת ההפעלה כי אנחנו רוצים לגשת לקובץ וגם באיזה אופן (קריאה או כתיבה למשל). מערכת ההפעלה היא זו שדואגת שלא יווצר מצב בו למשל אנחנו עורכים קובץ בתוכנת word ובאותו זמן מנסים למחוק אותו (נסו זאת). החזקה של קובץ "פתוח" גוזלת משאבים ממערכת ההפעלה וגם עלולה למנוע מתכנות אחרות להשתמש בו. לכן חשוב לסגור קבצים בסוף השימוש כדי למנוע בעיות של משאבים או פגיעה בתכניות אחרות. אם נשכח לעשות זאת - בדרך כלל לא יקרה שום אסון, זאת מפני שכאשר נסגור את התכנה (במקרה שלנו זה יקרה כנראה כאשר IDLE יסגר ולא בסיום הריצה) מערכת ההפעלה סוגרת את כל הקבצים ששייכים לה, אבל למען הסדר הטוב נקפיד לעשות זאת. מאותה סיבה - נעדיף גם לא "להחזיק" את הקובץ פתוח שלא לצורך, זאת אומרת שאם קראנו את מה שצריך מהקובץ וסיימנו, עדיף לסגור אותו ולא לחכות לסוף התכנה. 

## סגירה אוטומטית של קבצים באמצעות with
לשיטה של שימוש בopen וclose יש מספר בעיות, רובן קשורות לעובדה שככל שהתכנה שלנו מתארכת ונהיית מורכבת יותר, קשה לנו לוודא שתמיד נבצע close. כי אנחנו צריכים לקחת בחשבון שבכל מסלול שבוא התכנה תעבור (כולל כל הלולאות, התנאים, משפטי הreturn וcontinue) תמיד נעבור גם בשורת הclose. כדי לפתור את הבעיה הזו הומצא הפעולה with בפייתון. פעולת with לפייתון שאנחנו רוצים "להחזיק" באובייקט כלשהו לזמן קצר ובתום הזמן הזה יש לשחרר אותו מיד. 

בואו נראה דוגמא: 
```
file_name = "./yesterday.txt"

print(f"Opening file {file_name} ...")
print() # empty line for readability 


with open(file_name) as f:
    file_contents = f.read()

print(file_contents)
```

נבחין קודם כל שהקריאה ל close נעלמה, אין בה צורך יותר. במקומה 

